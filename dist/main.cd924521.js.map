{"version":3,"sources":["pikachuCSS.js","CSSPlayer.js","main.js"],"names":["pikachuCSS","CSSPlayer","codeShowSelector","drawSelector","str","ui","codeShow","document","querySelector","draw","n","delay","interval_id","undefined","playing","strHTML","CSSLen","length","events","play","bindEvents","key","hasOwnProperty","value","onclick","bind","parseInt","console","log","window","clearInterval","innerHTML","substr","scrollTop","scrollHeight","setInterval","writeStr","pause","player","init","pikachu","querySelectorAll","eyeball","forEach","eye","x","getBoundingClientRect","left","y","top","rot","Math","atan2","event","pageX","pageY","PI","getAttribute","indexOf","style","transform","addEventListener"],"mappings":"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","file":"main.cd924521.js","sourceRoot":"..\\src","sourcesContent":["const pikachuCSS = `.draw * {\r\n    margin: 0;\r\n    padding:0;\r\n    box-sizing: border-box;\r\n}\r\n.draw *::before, *::after {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n}\r\n.draw {\r\n    background: rgb(255, 230, 0);\r\n}\r\n.nose {\r\n    position: relative;\r\n    width: 0px;\r\n    height: 0px;\r\n    transform: translateX(-50%);\r\n    z-index: 5;\r\n    left: 50%;\r\n    top: 110px;  \r\n}\r\n.nose:hover {\r\n    transform-origin: center bottom;\r\n    animation: wave 250ms linear infinite; \r\n}\r\n.nose .yuan {\r\n    border:1px solid black;\r\n    background: #000;\r\n    width: 20px;\r\n    height: 6px;\r\n    position: absolute;\r\n    bottom: 10px;\r\n    left: 50%;\r\n    margin-left: -10px;\r\n    border-top-left-radius: 20px 10px; \r\n    border-top-right-radius: 20px 10px;\r\n}\r\n.nose .san {\r\n    border: 10px solid black;\r\n    border-color: black transparent transparent;\r\n    border-bottom: none;\r\n    width: 0px;\r\n    height: 0px;\r\n    position: absolute;\r\n    left:50%;\r\n    margin-left: -10px;  \r\n    bottom: 0;\r\n    \r\n}\r\n@keyframes wave {\r\n    0% {\r\n        transform: rotate(0deg);\r\n    }\r\n    25% {\r\n        transform: rotate(5deg);\r\n    }\r\n    50% {\r\n        transform: rotate(0deg);\r\n    }\r\n    75% {\r\n        transform: rotate(-5deg);\r\n    }\r\n    100% {\r\n        transform: rotate(0deg);\r\n    }\r\n}\r\n.eye {\r\n    border: 3px solid black;\r\n    background: rgb(46, 46, 46);\r\n    width: 63px;\r\n    height: 63px;\r\n    position: absolute;\r\n    top: 50px;\r\n    left: 50%;\r\n    margin-left: -30px;\r\n    border-radius: 50%;\r\n}\r\n.eye::before {\r\n    content: \"\";\r\n    display: block;\r\n    border: 3px solid black;\r\n    width: 31px;\r\n    height: 31px;\r\n    border-radius: 50%;\r\n    background: white;\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    left: 3px;\r\n}\r\n.eye.left {\r\n    transform: translateX(-195%);\r\n\r\n}\r\n.eye.right {\r\n    transform: translateX(195%)\r\n}\r\n.face {\r\n    border: 3px solid black;\r\n    width: 88px;\r\n    height: 88px;\r\n    position: absolute;\r\n    top: 170px;\r\n    left: 50%;\r\n    margin-left: -45px;\r\n    border-radius: 50%;\r\n    background: rgb(255, 0, 0);\r\n}\r\n.face.left {\r\n    transform: translateX(190%);\r\n}\r\n.face.right {\r\n    transform: translateX(-190%);\r\n}\r\n.face img {\r\n    /* border: 1px solid black; */\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n}\r\n.face.right img {\r\n    transform: rotateY(180deg);\r\n    transform-origin: 0;\r\n}\r\n\r\n.mouth {\r\n    /* border: 1px solid black; */\r\n    width: 200px;\r\n    height: 190px;\r\n    position: absolute;\r\n    left: 50%;\r\n    margin-left: -100px;\r\n    top: 125px;\r\n}\r\n.mouth .up .lip {\r\n    border: 3px solid black;\r\n    background:rgb(255, 230, 0);\r\n    width: 100px;\r\n    height: 28px;\r\n    border-color: transparent transparent black transparent;\r\n    position: absolute;\r\n    z-index: 2;\r\n}\r\n.mouth .up .lip.left {\r\n  /* border-radius: 0 0 0 30px; */\r\n  border-bottom-left-radius: 50px 28px;\r\n  transform: rotate(-20deg);\r\n  left: -1px;\r\n\r\n}\r\n.mouth .up .lip.right {\r\n    border-bottom-right-radius: 50px 28px;\r\n    right: 0px;\r\n    transform: rotate(20deg);\r\n}\r\n\r\n/* 嘴唇遮罩 */\r\n.mouth .up .lip::before {\r\n    content: \"\";\r\n    display: block;\r\n    /* border: 1px solid red; */\r\n    background: rgb(255, 230, 0);\r\n    width: 5px;\r\n    height: 23px;\r\n    position: absolute;\r\n    top: -1px;\r\n}\r\n.mouth .up .lip.left::before {  \r\n    right: 0;\r\n    margin-right: -4px;\r\n}\r\n.mouth .up .lip.right::before {  \r\n    margin-left: -4px;\r\n}\r\n\r\n.mouth .down {\r\n    /* border: 1px solid green; */\r\n    width: 100%;\r\n    height: 160px;\r\n    position: relative;\r\n    overflow: hidden;\r\n    z-index: 1;\r\n    top: 8px;\r\n}\r\n.mouth .down .yuan1 {\r\n    border: 3px solid black;\r\n    background-color: rgb(155, 0, 10);\r\n    width: 100%;\r\n    height: 1300px;\r\n    position: absolute;\r\n    bottom: 0;\r\n    left:0;\r\n    border-radius: 100px/490px;\r\n    overflow: hidden;\r\n}\r\n.mouth .down .yuan1 .yuan2 {\r\n    /* border: 1px solid black; */\r\n    width: 150px;\r\n    height: 150px;\r\n    background: rgb(255, 72, 95);\r\n    position: absolute;\r\n    bottom: -25px;\r\n    border-radius: 50%;\r\n    left: 50%;\r\n    transform: translateX(-50%);  \r\n}\r\n`\r\n\r\nexport default pikachuCSS","// import str from './pikachuCSS'\r\n\r\nclass CSSPlayer {\r\n  //\r\n  constructor(codeShowSelector, drawSelector, str) {\r\n    this.ui = {\r\n      codeShow: document.querySelector(codeShowSelector),\r\n      draw: document.querySelector(drawSelector)\r\n    }\r\n    this.str = str\r\n    this.n = 0\r\n    this.delay = 20\r\n    this.interval_id = undefined\r\n    this.playing = false\r\n    this.strHTML = ''\r\n    this.CSSLen = this.str.length\r\n    this.events = {\r\n      '#btnPause': 'pause',\r\n      '#btnPlay': 'play',\r\n      '#btnSlow': 'slow',\r\n      '#btnNormal': 'normal',\r\n      '#btnFast': 'fast',\r\n    }\r\n  }\r\n  init() {\r\n\r\n    this.play()\r\n    this.bindEvents()\r\n  }\r\n\r\n  bindEvents() {\r\n\r\n    for (let key in this.events) {\r\n      if (this.events.hasOwnProperty(key)) {\r\n        //for in 会遍历到对象原型的属性\r\n        let value = this.events[key]\r\n        //onclick=fn中，this指的是元素本身，故用bind绑定this\r\n        document.querySelector(key).onclick = this[value].bind(this)\r\n      }\r\n    }\r\n  }\r\n\r\n  writeStr() {\r\n    //n 大于长度，清除interval\r\n    if (parseInt(this.n) === this.str.length - 1) {\r\n      console.log(`播放完成, n: ${this.n}`)\r\n      window.clearInterval(this.interval_id)\r\n      this.playing = false\r\n    }\r\n\r\n    //转成HTML的换行和空格\r\n    if (this.str[this.n] === '\\n') {\r\n      this.strHTML += '<br>'\r\n    } else if (this.str[this.n] === ' ') {\r\n      this.strHTML += '&nbsp'\r\n    } else {\r\n      this.strHTML += this.str[this.n]\r\n    }\r\n    //替换页面内容\r\n    this.ui.codeShow.innerHTML = this.strHTML\r\n    this.ui.draw.innerHTML = this.str.substr(0, this.n + 1)\r\n\r\n    //注意，可滚动高度还要计算 滚动条本身的宽度，这里先不计算\r\n    this.ui.codeShow.scrollTop = this.ui.codeShow.scrollHeight\r\n    this.n += 1\r\n  }\r\n\r\n  play() {\r\n    //是否在播放\r\n    if (this.playing === false) {\r\n      //是否播放完\r\n      if (this.n < this.CSSLen) {\r\n        this.interval_id = setInterval(() => {this.writeStr()}, this.delay)\r\n        this.playing = true\r\n      } else {\r\n        console.log(this.n)\r\n        console.log('已播放完，再点一次重新开始播放')\r\n        //重置\r\n        this.strHTML = ''\r\n        this.ui.draw.innerHTML = ''\r\n        this.n = 0\r\n      }\r\n    } else {\r\n      console.log(`播放中, id: ${this.interval_id}`)\r\n    }\r\n  }\r\n\r\n\r\n\r\n  pause() {\r\n    window.clearInterval(this.interval_id)\r\n    this.playing = false\r\n  }\r\n\r\n  slow() {\r\n    this.pause()\r\n    this.delay = 50\r\n    this.play()\r\n  }\r\n\r\n  normal() {\r\n\r\n    this.pause()\r\n    this.delay = 20\r\n    this.play()\r\n  }\r\n\r\n  fast() {\r\n    this.pause()\r\n    this.delay = 0\r\n    this.play()\r\n  }\r\n\r\n}\r\n\r\nexport default CSSPlayer\r\n","import str from \"./pikachuCSS\";\r\nimport CSSPlayer from './CSSPlayer'\r\n//面向对象的优化\r\n\r\nconst player = new CSSPlayer('.codeShow', '.drawStyle', str)\r\n\r\nplayer.init()\r\n\r\n// 眼睛跟随鼠标移动\r\nconst pikachu = document.querySelectorAll(\".draw\")[0];\r\npikachu.addEventListener(\"mousemove\", eyeball);\r\n\r\nfunction eyeball() {\r\n  let eyes = document.querySelectorAll(\".eye\");\r\n  eyes.forEach((eye) => {\r\n    let x = eye.getBoundingClientRect().left + 32;\r\n    let y = eye.getBoundingClientRect().top + 32;\r\n\r\n    let radian = Math.atan2(event.pageX - x, event.pageY - y);\r\n    // console.log(radian)\r\n    let rot = radian * (180 / Math.PI) * -1 + 270;\r\n\r\n    if (eye.getAttribute(\"class\").indexOf(\"left\") !== -1) {\r\n      eye.style.transform = \"translateX(-195%) rotate(\" + rot + \"deg)\";\r\n    } else if (eye.getAttribute(\"class\").indexOf(\"right\")) {\r\n      eye.style.transform = \"translateX(195%) rotate(\" + rot + \"deg)\";\r\n    }\r\n  });\r\n}\r\n"]}