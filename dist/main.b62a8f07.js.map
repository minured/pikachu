{"version":3,"sources":["pikachuCSS.js","main.js"],"names":["pikachuCSS","player","n","delay","interval_id","undefined","playing","strHTML","strLen","str","length","ui","codeShow","document","querySelector","piKaChuCSS","init","console","log","play","bindEvents","events","key","hasOwnProperty","value","onclick","writeStr","parseInt","window","clearInterval","innerHTML","substr","scrollTop","scrollHeight","setInterval","pause","slow","normal","fast","pikachu","querySelectorAll","eyeball","forEach","eye","x","getBoundingClientRect","left","y","top","rot","Math","atan2","event","pageX","pageY","PI","getAttribute","indexOf","style","transform","addEventListener"],"mappings":";AAkNeA,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAjNf,IAAMA,EAAN,ohIAiNeA,EAAAA,EAAAA,QAAAA,QAAAA;;ACrFd,aA7HD,IAAA,EAAA,EAAA,QAAA,oBA6HC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA1HD,IAAMC,EAAS,CAEbC,EAAG,EACHC,MAAO,GACPC,iBAAaC,EACbC,SAAS,EACTC,QAAS,GACTC,OAAQC,EAAIC,QAAAA,OAEZC,GAAI,CACFC,SAAUC,SAASC,cAAc,aACjCC,WAAYF,SAASC,cAAc,gBAIrCE,KAAM,WACJC,QAAQC,IAAcjB,UAAAA,OAAAA,EAAOO,SAC7BP,EAAOkB,OACPlB,EAAOmB,cAETC,OAAQ,CACO,YAAA,QACD,WAAA,OACA,WAAA,OACE,aAAA,SACF,WAAA,QAEdD,WAAY,WACL,IAAA,IAAIE,KAAOrB,EAAOoB,OACjBpB,GAAAA,EAAOoB,OAAOE,eAAeD,GAAM,CAEjCE,IAAAA,EAAQvB,EAAOoB,OAAOC,GAC1BT,SAASC,cAAcQ,GAAKG,QAAUxB,EAAOuB,KAInDE,SAAU,WAEJC,SAAS1B,EAAOC,KAAOO,EAAIC,QAAAA,OAAS,IACtCO,QAAQC,IAAgBjB,YAAAA,OAAAA,EAAOC,IAC/B0B,OAAOC,cAAc5B,EAAOG,aAC5BH,EAAOK,SAAU,GAIG,OAAlBG,EAAIR,QAAAA,EAAOC,GACbD,EAAOM,SAAW,OACS,MAAlBE,EAAIR,QAAAA,EAAOC,GACpBD,EAAOM,SAAW,QAElBN,EAAOM,SAAWE,EAAIR,QAAAA,EAAOC,GAI/BD,EAAOU,GAAGC,SAASkB,UAAY7B,EAAOM,QACtCN,EAAOU,GAAGI,WAAWe,UAAYrB,EAAIsB,QAAAA,OAAO,EAAG9B,EAAOC,EAAI,GAG1DD,EAAOU,GAAGC,SAASoB,UAAY/B,EAAOU,GAAGC,SAASqB,aAClDhC,EAAOC,GAAK,GAEdiB,KAAM,YAEmB,IAAnBlB,EAAOK,QAELL,EAAOC,EAAID,EAAOO,QACpBP,EAAOG,YAAc8B,YAAYjC,EAAOyB,SAAUzB,EAAOE,OACzDF,EAAOK,SAAU,IAEjBW,QAAQC,IAAI,mBAEZjB,EAAOM,QAAU,GACjBN,EAAOU,GAAGI,WAAWe,UAAY,GACjC7B,EAAOC,EAAI,GAGbe,QAAQC,IAAiBjB,aAAAA,OAAAA,EAAOG,eAGpC+B,MAAO,WACLP,OAAOC,cAAc5B,EAAOG,aAC5BH,EAAOK,SAAU,GAEnB8B,KAAM,WACJnC,EAAOkC,QACPlC,EAAOE,MAAQ,GACfF,EAAOkB,QAETkB,OAAQ,WACNpC,EAAOkC,QACPlC,EAAOE,MAAQ,GACfF,EAAOkB,QAETmB,KAAM,WACJrC,EAAOkC,QACPlC,EAAOE,MAAQ,EACfF,EAAOkB,SAIXlB,EAAOe,OAGP,IAAMuB,EAAU1B,SAAS2B,iBAAiB,YAAY,GAGtD,SAASC,IACI5B,SAAS2B,iBAAiB,QAChCE,QAAQ,SAACC,GACRC,IAAAA,EAAID,EAAIE,wBAAwBC,KAAO,GACvCC,EAAIJ,EAAIE,wBAAwBG,IAAM,GAItCC,EAFSC,KAAKC,MAAMC,MAAMC,MAAQT,EAAGQ,MAAME,MAAQP,IAEnC,IAAMG,KAAKK,KAAO,EAAI,KAES,IAA/CZ,EAAIa,aAAa,SAASC,QAAQ,QACpCd,EAAIe,MAAMC,UAAY,4BAA8BV,EAAM,OACjDN,EAAIa,aAAa,SAASC,QAAQ,WAC3Cd,EAAIe,MAAMC,UAAY,2BAA6BV,EAAM,UAf/DV,EAAQqB,iBAAiB,YAAanB","file":"main.b62a8f07.js","sourceRoot":"..\\src","sourcesContent":["//模块化\r\nconst pikachuCSS = `.pikachu * {\r\n    margin: 0;\r\n    padding:0;\r\n    box-sizing: border-box;\r\n}\r\n.pikachu *::before, *::after {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n}\r\n.pikachu {\r\n    background: rgb(255, 230, 0);\r\n}\r\n.nose {\r\n    position: relative;\r\n    width: 0px;\r\n    height: 0px;\r\n    transform: translateX(-50%);\r\n    z-index: 5;\r\n    left: 50%;\r\n    top: 110px;  \r\n}\r\n.nose:hover {\r\n    transform-origin: center bottom;\r\n    animation: wave 250ms linear infinite; \r\n}\r\n.nose .yuan {\r\n    border:1px solid black;\r\n    background: #000;\r\n    width: 20px;\r\n    height: 6px;\r\n    position: absolute;\r\n    bottom: 10px;\r\n    left: 50%;\r\n    margin-left: -10px;\r\n    border-top-left-radius: 20px 10px; \r\n    border-top-right-radius: 20px 10px;\r\n}\r\n.nose .san {\r\n    border: 10px solid black;\r\n    border-color: black transparent transparent;\r\n    border-bottom: none;\r\n    width: 0px;\r\n    height: 0px;\r\n    position: absolute;\r\n    left:50%;\r\n    margin-left: -10px;  \r\n    bottom: 0;\r\n    \r\n}\r\n@keyframes wave {\r\n    0% {\r\n        transform: rotate(0deg);\r\n    }\r\n    25% {\r\n        transform: rotate(5deg);\r\n    }\r\n    50% {\r\n        transform: rotate(0deg);\r\n    }\r\n    75% {\r\n        transform: rotate(-5deg);\r\n    }\r\n    100% {\r\n        transform: rotate(0deg);\r\n    }\r\n}\r\n.eye {\r\n    border: 3px solid black;\r\n    background: rgb(46, 46, 46);\r\n    width: 63px;\r\n    height: 63px;\r\n    position: absolute;\r\n    top: 50px;\r\n    left: 50%;\r\n    margin-left: -30px;\r\n    border-radius: 50%;\r\n}\r\n.eye::before {\r\n    content: \"\";\r\n    display: block;\r\n    border: 3px solid black;\r\n    width: 31px;\r\n    height: 31px;\r\n    border-radius: 50%;\r\n    background: white;\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    left: 3px;\r\n}\r\n.eye.left {\r\n    transform: translateX(-195%);\r\n\r\n}\r\n.eye.right {\r\n    transform: translateX(195%)\r\n}\r\n.face {\r\n    border: 3px solid black;\r\n    width: 88px;\r\n    height: 88px;\r\n    position: absolute;\r\n    top: 170px;\r\n    left: 50%;\r\n    margin-left: -45px;\r\n    border-radius: 50%;\r\n    background: rgb(255, 0, 0);\r\n}\r\n.face.left {\r\n    transform: translateX(190%);\r\n}\r\n.face.right {\r\n    transform: translateX(-190%);\r\n}\r\n.face img {\r\n    /* border: 1px solid black; */\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n}\r\n.face.right img {\r\n    transform: rotateY(180deg);\r\n    transform-origin: 0;\r\n}\r\n\r\n.mouth {\r\n    /* border: 1px solid black; */\r\n    width: 200px;\r\n    height: 190px;\r\n    position: absolute;\r\n    left: 50%;\r\n    margin-left: -100px;\r\n    top: 125px;\r\n}\r\n.mouth .up .lip {\r\n    border: 3px solid black;\r\n    background:rgb(255, 230, 0);\r\n    width: 100px;\r\n    height: 28px;\r\n    border-color: transparent transparent black transparent;\r\n    position: absolute;\r\n    z-index: 2;\r\n}\r\n.mouth .up .lip.left {\r\n  /* border-radius: 0 0 0 30px; */\r\n  border-bottom-left-radius: 50px 28px;\r\n  transform: rotate(-20deg);\r\n  left: -1px;\r\n\r\n}\r\n.mouth .up .lip.right {\r\n    border-bottom-right-radius: 50px 28px;\r\n    right: 0px;\r\n    transform: rotate(20deg);\r\n}\r\n\r\n/* 嘴唇遮罩 */\r\n.mouth .up .lip::before {\r\n    content: \"\";\r\n    display: block;\r\n    /* border: 1px solid red; */\r\n    background: rgb(255, 230, 0);\r\n    width: 5px;\r\n    height: 23px;\r\n    position: absolute;\r\n    top: -1px;\r\n}\r\n.mouth .up .lip.left::before {  \r\n    right: 0;\r\n    margin-right: -4px;\r\n}\r\n.mouth .up .lip.right::before {  \r\n    margin-left: -4px;\r\n}\r\n\r\n.mouth .down {\r\n    /* border: 1px solid green; */\r\n    width: 100%;\r\n    height: 160px;\r\n    position: relative;\r\n    overflow: hidden;\r\n    z-index: 1;\r\n    top: 8px;\r\n}\r\n.mouth .down .yuan1 {\r\n    border: 3px solid black;\r\n    background-color: rgb(155, 0, 10);\r\n    width: 100%;\r\n    height: 1300px;\r\n    position: absolute;\r\n    bottom: 0;\r\n    left:0;\r\n    border-radius: 100px/490px;\r\n    overflow: hidden;\r\n}\r\n.mouth .down .yuan1 .yuan2 {\r\n    /* border: 1px solid black; */\r\n    width: 150px;\r\n    height: 150px;\r\n    background: rgb(255, 72, 95);\r\n    position: absolute;\r\n    bottom: -25px;\r\n    border-radius: 50%;\r\n    left: 50%;\r\n    transform: translateX(-50%);  \r\n}\r\n`\r\n\r\nexport default pikachuCSS","import str from \"./pikachuCSS.js\";\r\n\r\n//面向对象的优化\r\nconst player = {\r\n  //基本属性\r\n  n: 0, //是索引,到不了length\r\n  delay: 20,\r\n  interval_id: undefined,\r\n  playing: false,\r\n  strHTML: \"\",\r\n  strLen: str.length,\r\n\r\n  ui: {\r\n    codeShow: document.querySelector(\".codeShow\"),\r\n    piKaChuCSS: document.querySelector(\".pikachucss\"),\r\n  },\r\n\r\n  //初始化方法\r\n  init: () => {\r\n    console.log(`字符总长度: ${player.strLen}`);\r\n    player.play();\r\n    player.bindEvents();\r\n  },\r\n  events: {\r\n    \"#btnPause\": \"pause\",\r\n    \"#btnPlay\": \"play\",\r\n    \"#btnSlow\": \"slow\",\r\n    \"#btnNormal\": \"normal\",\r\n    \"#btnFast\": \"fast\",\r\n  },\r\n  bindEvents: () => {\r\n    for (let key in player.events) {\r\n      if (player.events.hasOwnProperty(key)) {\r\n        //for in 会遍历到对象原型的属性\r\n        let value = player.events[key];\r\n        document.querySelector(key).onclick = player[value];\r\n      }\r\n    }\r\n  },\r\n  writeStr: () => {\r\n    //n 大于长度，清除interval\r\n    if (parseInt(player.n) === str.length - 1) {\r\n      console.log(`播放完成, n: ${player.n}`);\r\n      window.clearInterval(player.interval_id);\r\n      player.playing = false;\r\n    }\r\n\r\n    //转成HTML的换行和空格\r\n    if (str[player.n] === \"\\n\") {\r\n      player.strHTML += \"<br>\";\r\n    } else if (str[player.n] === \" \") {\r\n      player.strHTML += \"&nbsp\";\r\n    } else {\r\n      player.strHTML += str[player.n];\r\n    }\r\n\r\n    //替换页面内容\r\n    player.ui.codeShow.innerHTML = player.strHTML;\r\n    player.ui.piKaChuCSS.innerHTML = str.substr(0, player.n + 1);\r\n\r\n    //注意，可滚动高度还要计算 滚动条本身的宽度，这里先不计算\r\n    player.ui.codeShow.scrollTop = player.ui.codeShow.scrollHeight;\r\n    player.n += 1;\r\n  },\r\n  play: () => {\r\n    //是否在播放\r\n    if (player.playing === false) {\r\n      //是否播放完\r\n      if (player.n < player.strLen) {\r\n        player.interval_id = setInterval(player.writeStr, player.delay);\r\n        player.playing = true;\r\n      } else {\r\n        console.log(\"已播放完，再点一次重新开始播放\");\r\n        //重置\r\n        player.strHTML = \"\";\r\n        player.ui.piKaChuCSS.innerHTML = \"\";\r\n        player.n = 0;\r\n      }\r\n    } else {\r\n      console.log(`已经在播放,id: ${player.interval_id}`);\r\n    }\r\n  },\r\n  pause: () => {\r\n    window.clearInterval(player.interval_id);\r\n    player.playing = false;\r\n  },\r\n  slow: () => {\r\n    player.pause();\r\n    player.delay = 50;\r\n    player.play();\r\n  },\r\n  normal: () => {\r\n    player.pause();\r\n    player.delay = 20;\r\n    player.play();\r\n  },\r\n  fast: () => {\r\n    player.pause();\r\n    player.delay = 0;\r\n    player.play();\r\n  },\r\n};\r\n\r\nplayer.init();\r\n\r\n// 眼睛跟随鼠标移动\r\nconst pikachu = document.querySelectorAll(\".pikachu\")[0];\r\npikachu.addEventListener(\"mousemove\", eyeball);\r\n\r\nfunction eyeball() {\r\n  let eyes = document.querySelectorAll(\".eye\");\r\n  eyes.forEach((eye) => {\r\n    let x = eye.getBoundingClientRect().left + 32;\r\n    let y = eye.getBoundingClientRect().top + 32;\r\n\r\n    let radian = Math.atan2(event.pageX - x, event.pageY - y);\r\n    // console.log(radian)\r\n    let rot = radian * (180 / Math.PI) * -1 + 270;\r\n\r\n    if (eye.getAttribute(\"class\").indexOf(\"left\") !== -1) {\r\n      eye.style.transform = \"translateX(-195%) rotate(\" + rot + \"deg)\";\r\n    } else if (eye.getAttribute(\"class\").indexOf(\"right\")) {\r\n      eye.style.transform = \"translateX(195%) rotate(\" + rot + \"deg)\";\r\n    }\r\n  });\r\n}\r\n"]}